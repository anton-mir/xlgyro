STM32CUBEIDE compile it well

If you want to compile with Cmake:

if you use 64x architecture do sudo apt-get install gcc-multilib

1) Download crosscompiler https://launchpad.net/gcc-arm-embedded/+download

2) Untar it to $HOME 
cd ~
tar xjf gcc-arm-none-eabi-5_4-2016q3-20160926-linux.tar.bz2

3) add to ~/.bashrc
export CROSS_COMPILE="arm-none-eabi-"
PATH="$PATH:$HOME/gcc-arm-none-eabi-5_4-2016q3/bin"

4) Compile with Cmake
mkdir build && cd build && cmake -DCMAKE_TOOLCHAIN_FILE=../toolchain.cmake .. && make -j$(nproc)
